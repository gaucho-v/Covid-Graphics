(this["webpackJsonpvirus-2019"]=this["webpackJsonpvirus-2019"]||[]).push([[0],{288:function(e,t,n){e.exports=n(560)},309:function(e,t,n){},487:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(6),c=n.n(i),l=n(14),o=n(155),s=n(56),u=n(57),d=n(68),m=n(66),p=n(15),f=n(228),h=n.n(f),v=(n(309),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("h3",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435..."),r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),b=n(258),E=n(156),C=n(28),y=function(e){var t=e.placeData,n=Object(a.useState)(450),i=Object(E.a)(n,2),c=i[0],l=i[1],o=Object(a.useState)(240),s=Object(E.a)(o,2),u=s[0],d=s[1],m=t.map((function(e){return Object(b.a)({},e,{date:e.date.slice(5,10)})}));return window.addEventListener("resize",(function(){window.screen.width<1024?(l(window.screen.width),d(300),console.log(c,u)):(l(450),d(240))})),r.a.createElement(C.c,{width:c,height:u,data:m},r.a.createElement(C.e,{dataKey:"date"}),r.a.createElement(C.f,{width:75}),r.a.createElement(C.a,{strokeDasharray:"0.5 1"}),r.a.createElement(C.d,null),r.a.createElement(C.b,{type:"monotone",dataKey:"confirmed",stroke:"red",r:1}),r.a.createElement(C.b,{type:"monotone",dataKey:"cured",stroke:"#82ca9d",r:1}),r.a.createElement(C.b,{type:"monotone",dataKey:"deaths",stroke:"black",r:1}))};function g(){var e=Object(l.a)(["\n  text-align: center;\n  color: #808088;\n"]);return g=function(){return e},e}function O(){var e=Object(l.a)(["\n    position: absolute;\n    display: flex;\n    background: cornsilk;\n    top: 24%;\n    left: 20%;\n    flex-direction: column;\n    padding: 5px;\n    border: 2px solid #eee;\n    border-radius: 7px;\n    color: #b5bbbb;\n    \n"]);return O=function(){return e},e}function j(){var e=Object(l.a)(["\n  position: relative;\n"]);return j=function(){return e},e}var w=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.placeName,n=e.isUpdate,a=e.statistics,i=e.index;return r.a.createElement(x,{key:"".concat(i,".").concat(t)},r.a.createElement(L,null," ",t," "),r.a.createElement(k,null,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f:",function(e,t){var n=t[t.length-1],a=t[t.length-2],i=t[t.length-3],c=["confirmed","cured","deaths"];return e?r.a.createElement("div",null,c.map((function(e,t){return r.a.createElement("div",{key:"".concat(t,".").concat(e)},n[e]-a[e]," ",e)}))):r.a.createElement("div",null,c.map((function(e,t){return r.a.createElement("div",{key:"".concat(t,".").concat(e)}," ",a[e]-i[e]," ",e)})))}(n,a)),r.a.createElement(y,{placeData:a}))}}]),n}(a.PureComponent),x=p.b.div(j()),k=p.b.div(O()),L=p.b.h4(g());function S(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n"]);return S=function(){return e},e}var U=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.cities,a=e.isUpdate;return r.a.createElement(F,null,n.map((function(e,n){var i=t.find((function(t){return t.ru.toUpperCase()===e.toUpperCase()}));if(!i)return null;var c=i.statistics,l=e.toUpperCase();return r.a.createElement(w,{key:n+e,statistics:c,placeName:l,isUpdate:a,index:n})})))}}]),n}(a.PureComponent),F=p.b.div(S()),I=n(37),R=n(564),P=n(565),N=n(566),D=(n(487),n(563)),K=function(e){var t=e.listCitiesForRussia,n=e.onCloseCitiesList;return r.a.createElement(D.a,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u043e\u0440\u043e\u0434\u043e\u0432 \u0438 \u043e\u0431\u043b\u0430\u0441\u0442\u0435\u0439 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",visible:!!t,onOk:n,onCancel:n},t&&t.sort().map((function(e){return"".concat(e," ")})))};function A(){var e=Object(l.a)(["\n  display: flex;\n  padding: 20px;\n"]);return A=function(){return e},e}window.onscroll=function(){var e=document.getElementById("header");window.pageYOffset>52?e.classList.add("header-fixed"):e.classList.remove("header-fixed")};var J=function(e){var t=e.search,n=e.changeInput,a=e.addPlace,i=e.showCitiesList,c=e.listCitiesForRussia,l=e.onCloseCitiesList;return r.a.createElement(B,{id:"header"},r.a.createElement(I.a,{type:"primary",onClick:i},"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u043e\u0440\u043e\u0434\u043e\u0432 \u0420\u043e\u0441\u0441\u0438\u0438"),r.a.createElement(R.a,{value:t,onChange:n}),r.a.createElement(P.a,{title:"search"},r.a.createElement(I.a,{type:"primary",icon:r.a.createElement(N.a,null),onClick:a},"\u041f\u043e\u0438\u0441\u043a")),r.a.createElement(K,{listCitiesForRussia:c,onCloseCitiesList:l}))},B=p.b.div(A()),q=n(567);function z(){var e=Object(l.a)(["\n  text-align: center;\n  color: darkred;\n  text-transform: uppercase;\n"]);return z=function(){return e},e}function M(){var e=Object(l.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  border: 2px solid #eee;\n  border-radius: 7px;\n  background-color: white;\n  @media (max-width: 1024px) {\n        width: 100%;\n        border: none;\n        padding: 0;\n    }\n"]);return M=function(){return e},e}function Y(){var e=Object(l.a)(["\n  @import url(\"https://fonts.googleapis.com/css?family=Inconsolata&display=swap\");\n  body {\n    background-color: #eee;\n    font-family: 'Inconsolata', monospace;\n    height: auto;\n    @media (max-width: 1024px) {\n      background: none;\n    }\n  };\n"]);return Y=function(){return e},e}var G=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[],cities:["\u0420\u043e\u0441\u0441\u0438\u044f","\u041c\u043e\u0441\u043a\u0432\u0430","\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","\u0412\u043e\u0440\u043e\u043d\u0435\u0436\u0441\u043a\u0438\u0439 \u0440\u0435\u0433\u0438\u043e\u043d","\u0411\u0435\u043b\u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","\u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","\u0423\u043a\u0440\u0430\u0438\u043d\u0430","\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c","\u0421\u0428\u0410"],search:"",listCitiesForRussia:null},e.handleChangeInput=function(t){var n=t.target.value;e.setState({search:n})},e.handleAddPlace=function(){e.state.data.map((function(e){return e.ru.toUpperCase()})).indexOf(e.state.search.toUpperCase())>=0?(q.a.info("\u0422\u0430\u043a\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0435\u0441\u0442\u044c"),e.setState({cities:[].concat(Object(o.a)(e.state.cities),[e.state.search]),search:""})):q.a.error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u0433\u043e\u0440\u043e\u0434")},e.handleShowCitiesList=function(){var t=e.state.data.filter((function(e){return"\u0420\u043e\u0441\u0441\u0438\u044f"===e.country})).map((function(e){return e.ru}));e.setState({listCitiesForRussia:t})},e.handleCloseCitiesList=function(){e.setState({listCitiesForRussia:null})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://cors-anywhere.herokuapp.com/coronavirus-monitor.ru/jquery-lite-9.js?a=12").then((function(t){var n=t.data,a=n.substring(n.indexOf("{")),r=JSON.parse(a);e.setState({data:[].concat(Object(o.a)(r.cities.data.cities),[r.countries.data.countries.find((function(e){return"\u0420\u043e\u0441\u0441\u0438\u044f"===e.ru}))])})})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.search,a=e.cities,i=e.listCitiesForRussia,c=(t[0]||{}).statistics;if(!c)return r.a.createElement(Q,null,r.a.createElement(H,null),r.a.createElement(v,null));var l=c[c.length-1].confirmed-c[c.length-2].confirmed,o=c[c.length-1].date.slice(5,10);return r.a.createElement(Q,null,r.a.createElement(H,null),r.a.createElement(J,{search:n,addPlace:this.handleAddPlace,changeInput:this.handleChangeInput,showCitiesList:this.handleShowCitiesList,listCitiesForRussia:i,onCloseCitiesList:this.handleCloseCitiesList}),l?null:r.a.createElement(T,null,"\u0414\u0430\u043d\u043d\u044b\u0445 \u0437\u0430 ",o," \u0435\u0449\u0451 \u043d\u0435\u0442"),r.a.createElement(U,{data:t,cities:a,isUpdate:l}))}}]),n}(a.Component),H=Object(p.a)(Y()),Q=p.b.div(M()),T=p.b.h2(z());n(559);c.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.58673eee.chunk.js.map