(this["webpackJsonpvirus-2019"]=this["webpackJsonpvirus-2019"]||[]).push([[0],{277:function(e,t,n){e.exports=n(541)},282:function(e,t,n){},460:function(e,t,n){},541:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(7),c=n.n(o),i=n(19),l=n(31),u=n(32),s=n(35),d=n(34),f=n(9),m=n(10),p=(n(282),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("h2",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435..."),r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))});function b(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 5px;\n"]);return b=function(){return e},e}function h(){var e=Object(f.a)(["\n    display: flex;\n    border: 1px solid #b8b8b8;\n"]);return h=function(){return e},e}var v=m.b.div(h()),E=m.b.div(b()),g=n(150),x=n(24),j={confirmed:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u043e\u0432",cured:"\u0412\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u0435\u043b\u0438",deaths:"\u0421\u043a\u043e\u043d\u0447\u0430\u043b\u0438\u0441\u044c"},y=function(e,t,n){return[e,j[t]||t]},O=function(e){var t=e.location.statistics.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{date:e.date.slice(5,10)})}));return r.a.createElement(x.c,{width:450,height:240,data:t},r.a.createElement(x.e,{dataKey:"date"}),r.a.createElement(x.f,{width:75}),r.a.createElement(x.a,{strokeDasharray:"0.5 1"}),r.a.createElement(x.d,{formatter:y}),r.a.createElement(x.b,{type:"monotone",dataKey:"confirmed",stroke:"red",r:1}),r.a.createElement(x.b,{type:"monotone",dataKey:"cured",stroke:"#82ca9d",r:1}),r.a.createElement(x.b,{type:"monotone",dataKey:"deaths",stroke:"black",r:1}))};function w(){var e=Object(f.a)(["\n  position: absolute;\n  cursor: pointer;\n  top: 5px;\n  right: 5px;\n"]);return w=function(){return e},e}function L(){var e=Object(f.a)(["\n  text-align: center;\n  font-size: larger;\n  text-transform: capitalize;\n"]);return L=function(){return e},e}function k(){var e=Object(f.a)(["\n    position: absolute;\n    display: flex;\n    top: 16%;\n    left: 18%;\n"]);return k=function(){return e},e}function C(){var e=Object(f.a)(["\n  position: relative;\n  width: calc(50% - 10px);\n  margin-bottom: 10px;\n  box-shadow: 2px 2px 5px 0 #0000005c;\n  width: ","\n"]);return C=function(){return e},e}var S=m.b.div(C(),(function(e){return e.isMobile?"100%":"50%"})),M=m.b.div(k()),I=m.b.h3(L()),D=m.b.span(w()),R=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.title,a=e.onRemoveChart,o=e.isMobile;return r.a.createElement(S,{isMobile:o},r.a.createElement(D,{onClick:function(){return a(n)}},"X"),r.a.createElement(I,null,n),r.a.createElement(M,null,function(e){var t=e.statistics,n=t[t.length-1],a=t[t.length-2],o=t[t.length-3],c=a.date.slice(5,10),i=n.confirmed>a.confirmed,l={confirmed:"\u0437\u0430\u0431\u043e\u043b\u0435\u043b\u0438",cured:"\u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u0435\u043b\u0438",deaths:"\u0443\u043c\u0435\u0440\u043b\u0438"};return i?r.a.createElement("div",null,r.a.createElement(v,null,Object.keys(l).map((function(e,t){return r.a.createElement(E,{key:"".concat(t,".").concat(e)},r.a.createElement("span",null,r.a.createElement("b",{style:{fontSize:"larger"}},n[Object.keys(l)[t]])),r.a.createElement("span",null,Object.values(l)[t]),"cured"===e?r.a.createElement("span",{style:{color:"#ff1a1a"}},"+",n[e]-a[e]):r.a.createElement("span",{style:{color:"green"}},"+",n[e]-a[e]))})))):r.a.createElement("div",null,r.a.createElement(v,null,Object.keys(l).map((function(e,t){return r.a.createElement(E,{key:"".concat(t,".").concat(e)},r.a.createElement("span",null,r.a.createElement("b",{style:{fontSize:"larger"}},a[Object.keys(l)[t]])),r.a.createElement("span",null,Object.values(l)[t]),"cured"===e?r.a.createElement("span",{style:{color:"#ff1a1a"}},"+",a[e]-o[e]):r.a.createElement("span",{style:{color:"green"}},"+",a[e]-o[e]))}))),r.a.createElement("span",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0430: ",r.a.createElement("b",null,c)))}(t)),r.a.createElement(O,{location:t}))}}]),n}(a.PureComponent);function z(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n"]);return z=function(){return e},e}var P=m.b.div(z()),A=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.selected,a=e.onRemoveChart,o=e.isMobile;return r.a.createElement(P,{isMobile:o},n.map((function(e,n){var c=function(e,t){var n=t.toLowerCase().trim();return e.find((function(e){var t=e.en,a=e.ru;return t.toLowerCase()===n||a.toLowerCase()===n}))}(t,e);return c?r.a.createElement(R,{key:n+e,location:c,title:e,onRemoveChart:a,isMobile:o}):null})))}}]),n}(a.PureComponent),K=["\u0440\u043e\u0441\u0441\u0438\u044f","\u043c\u043e\u0441\u043a\u0432\u0430","\u0441\u0430\u043d\u043a\u0442-\u043f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","\u0432\u043e\u0440\u043e\u043d\u0435\u0436\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","\u0431\u0435\u043b\u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","\u043a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","\u0443\u043a\u0440\u0430\u0438\u043d\u0430","\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u044c","\u0441\u0448\u0430"],B=n(246),J=n(544),N=n(545),W=n(148);n(460);function q(){var e=Object(f.a)(["\n  margin: 0 11px;\n"]);return q=function(){return e},e}function F(){var e=Object(f.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n"]);return F=function(){return e},e}function U(){var e=Object(f.a)(["\n    display: flex;\n    flex: auto;\n    justify-content: space-between;\n    min-width: 0;\n    max-height: none;\n    padding: 6px 0;\n    :hover {\n      background-color: #eee;\n    }\n"]);return U=function(){return e},e}function X(){var e=Object(f.a)(["\n    background: #fff;\n    display: flex;\n    flex-direction: column;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    border: 0;\n    border-radius: 0 0 15px 15px;\n    box-shadow: 0 4px 6px 0 rgba(32,33,36,0.28);\n    padding-bottom: 4px;\n    overflow: hidden;\n"]);return X=function(){return e},e}function Y(){var e=Object(f.a)(["\n    position: absolute;\n    width: 100%;\n    text-align: left;\n    margin-top: 32px;\n    z-index: 989;\n    cursor: default;\n"]);return Y=function(){return e},e}function G(){var e=Object(f.a)(["\n  position: relative;\n  display: flex;\n  margin: 0 auto;\n  padding: 10px 0;\n  width: 720px;\n     \n"]);return G=function(){return e},e}var H=m.b.div(G()),Q=m.b.div(Y()),T=m.b.div(X()),V=m.b.div(U()),Z=m.b.ul(F()),$=m.b.span(q());window.onscroll=function(){var e=document.getElementById("header");e&&(window.pageYOffset>30?e.classList.add("header-fixed"):e.classList.remove("header-fixed"))};var _=function(e){var t=e.search,n=e.onChange,o=e.onAddPlace,c=e.filteredLocations,i=e.locationsData,l=Object(a.useState)(!1),u=Object(B.a)(l,2),s=u[0],d=u[1],f=s?"15px 0 0 0":"15px 0px 0px 15px",m=s?"0 15px 0 0":"0px 15px 15px 0px";return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o()}},r.a.createElement(H,{id:"header"},r.a.createElement(J.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",style:{borderRadius:f},value:t,onChange:function(e){d(!0),""===e.target.value&&d(!1),n(e)},onBlur:function(e){return e}}),r.a.createElement(N.a,{title:"search"},r.a.createElement(W.a,{style:{borderRadius:m},type:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e")),!!c.length&&r.a.createElement(Q,null,r.a.createElement(T,null,r.a.createElement(Z,null,c.splice(0,5).map((function(e,t){return r.a.createElement("li",{key:e+t,onClick:function(){return o(e)}},r.a.createElement(V,null,r.a.createElement($,null,r.a.createElement("b",null,e)),r.a.createElement($,null,function(e){return(i.find((function(t){return t.en===e}))||i.find((function(t){return t.ru===e}))).confirmed}(e)," \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0435\u043d\u043d\u044b\u0445 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u043e\u0432")))})))))))},ee=n(546),te=n(237),ne=n.n(te),ae={getStats:function(){return ne.a.get("https://cors-anywhere.herokuapp.com/coronavirus-monitor.ru/jquery-lite-9.js?a=12").then((function(e){var t=e.data,n=t.substring(t.indexOf("{")),a=JSON.parse(n),r=a.cities,o=a.countries,c=a.russianSubjects;return[].concat(Object(i.a)(r.data.cities),Object(i.a)(o.data.countries),Object(i.a)(c.data.subjects))})).catch((function(e){return console.log(e),{}}))}},re=n(238),oe=function(e){return function(t){Object(s.a)(a,t);var n=Object(d.a)(a);function a(e){var t;return Object(l.a)(this,a),(t=n.call(this,e)).checkIfIsMobile=function(){var e=window.innerWidth<720;t.setState({isMobile:e})},t.state={isMobile:!1},t.checkIfIsMobile=Object(re.debounce)(t.checkIfIsMobile,1e3),t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.checkIfIsMobile(),window.addEventListener("resize",this.checkIfIsMobile)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkIfIsMobile)}},{key:"render",value:function(){return r.a.createElement(e,{isMobile:this.state.isMobile})}}]),a}(a.Component)};function ce(){var e=Object(f.a)(["\n  text-align: center;\n  color: darkred;\n  text-transform: uppercase;\n"]);return ce=function(){return e},e}function ie(){var e=Object(f.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  border: 2px solid #eee;\n  border-radius: 7px;\n  background-color: white;\n  @media (max-width: 1024px) {\n        width: 100%;\n        border: none;\n        padding: 0;\n    }\n"]);return ie=function(){return e},e}function le(){var e=Object(f.a)(["\n  @import url(\"https://fonts.googleapis.com/css?family=Inconsolata&display=swap\");\n  body {\n    background-color: #eee;\n    font-family: 'Inconsolata', monospace;\n    height: auto;\n    @media (max-width: 1024px) {\n      background: none;\n    }\n  };\n"]);return le=function(){return e},e}var ue=Object(m.a)(le()),se=m.b.div(ie()),de=(m.b.h2(ce()),oe(function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:"",locationsData:{},filteredLocations:[],selectedLocations:localStorage.selectedLocations?localStorage.selectedLocations.split(","):Object(i.a)(K),isLoading:!1},e.saveLocations=function(){var t=e.state.selectedLocations;localStorage.setItem("selectedLocations",t)},e.filterLocation=function(t){var n=e.state.locationsData,a=t.toLowerCase().trim(),r=n.filter((function(e){return e.ru.slice(0,a.length).toLowerCase().includes(a)})),o=n.filter((function(e){return e.en.slice(0,a.length).toLowerCase().includes(a)}));return[].concat(Object(i.a)(r.map((function(e){return e.ru}))),Object(i.a)(o.map((function(e){return e.en}))))},e.handleSearchChange=function(t){var n=t.target.value,a=n?Object(i.a)(new Set(e.filterLocation(n))):[];e.setState({search:n,filteredLocations:a})},e.handleClickOutSearch=function(){e.setState({filteredLocations:[]})},e.handleAddPlace=function(t){var n=e.state,a=n.locationsData,r=n.selectedLocations,o=e.state.search;t&&(o=t);var c=o.toLowerCase().trim();r.map((function(e){return e.toLowerCase()})).includes(c)?ee.a.error("\u0413\u0440\u0430\u0444\u0438\u043a \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u043c\u0435\u0441\u0442\u0443 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"):a.reduce((function(e,t){return e.push(t.en.toLowerCase()),e.push(t.ru.toLowerCase()),e}),[]).find((function(e){return e===c}))?(ee.a.info("\u041c\u0435\u0441\u0442\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u0433\u0440\u0430\u0444\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),e.setState({selectedLocations:[c].concat(Object(i.a)(r)),search:"",filteredLocations:[]})):ee.a.error("\u041f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u043c\u0435\u0441\u0442\u0443 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")},e.handleRemoveLocation=function(t){e.setState((function(e){return{selectedLocations:e.selectedLocations.filter((function(e){return e!==t}))}}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),ae.getStats().then((function(t){e.setState({locationsData:t,isLoading:!1})})),window.onbeforeunload=this.saveLocations}},{key:"render",value:function(){var e=this.props.isMobile,t=this.state,n=t.search,o=t.locationsData,c=t.selectedLocations,i=t.isLoading,l=t.filteredLocations;return r.a.createElement(se,{onClick:this.handleClickOutSearch},r.a.createElement(ue,null),i?r.a.createElement(p,null):r.a.createElement(a.Fragment,null,r.a.createElement(_,{search:n,onAddPlace:this.handleAddPlace,onChange:this.handleSearchChange,filteredLocations:l,locationsData:o}),!!o.length&&r.a.createElement(A,{isMobile:e,data:o,selected:c,onRemoveChart:this.handleRemoveLocation})))}}]),n}(a.Component)));n(540);c.a.render(r.a.createElement(de,null),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.5b1eba48.chunk.js.map